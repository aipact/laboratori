
<!DOCTYPE html>
<html lang="it">
<head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Dashboard Moderazione Social - Comune</title>    <script src="https://cdn.tailwindcss.com">
</script>    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <style>        .scrollbar-thin { scrollbar-width: thin; }        .dark { color-scheme: dark; }    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">    <!-- Header -->    <header class="bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50">        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">            <div class="flex items-center space-x-4">                <i class="fas fa-city text-2xl text-blue-600">
</i>                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Dashboard Moderazione Social</h1>            </div>            <div class="flex items-center space-x-4">                <button id="theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">                    <i class="fas fa-moon text-xl">
</i>                </button>                <span id="timestamp" class="text-sm text-gray-500">
</span>            </div>        </div>    </header>    <div class="max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 lg:grid-cols-4 gap-8">        <!-- Sidebar Temi Conflitto -->        <div class="lg:col-span-1 space-y-6">            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">                <h3 class="font-semibold text-lg mb-4 flex items-center">                    <i class="fas fa-fire mr-2 text-red-500">
</i>                    Temi Caldi                </h3>                <div id="temi-container" class="space-y-3 max-h-96 overflow-y-auto scrollbar-thin">                    <!-- Temi dinamici caricati -->                </div>            </div>            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">                <h3 class="font-semibold text-lg mb-4">Moderazione Rapida</h3>                <button onclick="addCommento()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg mb-3 transition-all">                    <i class="fas fa-plus mr-2">
</i>Nuovo Commento                </button>                <div class="space-y-2 text-sm">                    <button onclick="resetAll()" class="w-full text-red-600 hover:bg-red-50 py-2 px-3 rounded flex items-center justify-center">                        <i class="fas fa-trash mr-2">
</i>Ripristina                    </button>                </div>            </div>        </div>        <!-- Main Content: Lista Commenti + Stats -->        <div class="lg:col-span-3 space-y-6">            <!-- Stats Cards -->            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-6 shadow-lg">                    <div class="flex items-center">                        <i class="fas fa-comments text-3xl opacity-75 mr-4">
</i>                        <div>                            <p class="text-sm opacity-90">Commenti Totali</p>                            <p id="total-commenti" class="text-3xl font-bold">0</p>                        </div>                    </div>                </div>                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl p-6 shadow-lg">                    <div class="flex items-center">                        <i class="fas fa-thumbs-up text-3xl opacity-75 mr-4">
</i>                        <div>                            <p class="text-sm opacity-90">Gestiti</p>                            <p id="gestiti" class="text-3xl font-bold">0</p>                        </div>                    </div>                </div>                <div class="bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl p-6 shadow-lg">                    <div class="flex items-center">                        <i class="fas fa-exclamation-triangle text-3xl opacity-75 mr-4">
</i>                        <div>                            <p class="text-sm opacity-90">Da Moderare</p>                            <p id="pendenti" class="text-3xl font-bold">0</p>                        </div>                    </div>                </div>            </div>            <!-- Lista Commenti -->            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden">                <div class="p-6 border-b border-gray-200 dark:border-gray-700">                    <h2 class="text-xl font-semibold flex items-center">                        <i class="fas fa-list mr-3 text-gray-500">
</i>                        Commenti da Moderare                    </h2>                </div>                <div id="commenti-container" class="max-h-96 overflow-y-auto scrollbar-thin p-6 space-y-4">                    <!-- Commenti caricati dinamicamente -->                </div>            </div>            <!-- Voice Chart -->            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">                <h3 class="font-semibold text-lg mb-6 flex items-center">                    <i class="fas fa-palette mr-2">
</i>Voice Chart - Risposte Standard                </h3>                <div class="grid md:grid-cols-3 gap-4">                    <div class="border-r border-gray-200 dark:border-gray-700 pr-4 md:pr-8">                        <h4 class="font-medium mb-2 text-blue-600 dark:text-blue-400">Sito Istituzionale</h4>                        <p class="text-xs text-gray-500 mb-3">Formale, preciso</p>                        <code class="bg-gray-100 dark:bg-gray-700 text-xs p-2 rounded block">Intervento programmato il 26/06</code>                    </div>                    <div class="border-r border-gray-200 dark:border-gray-700 pr-4 md:pr-8">                        <h4 class="font-medium mb-2 text-green-600 dark:text-green-400">Facebook</h4>                        <p class="text-xs text-gray-500 mb-3">Empatico, rassicurante</p>                        <code class="bg-gray-100 dark:bg-gray-700 text-xs p-2 rounded block">Grazie per segnalazione! Intervento 26/06 ?</code>                    </div>                    <div>                        <h4 class="font-medium mb-2 text-purple-600 dark:text-purple-400">Stories/Telegram</h4>                        <p class="text-xs text-gray-500 mb-3">Sintetico, visivo</p>                        <code class="bg-gray-100 dark:bg-gray-700 text-xs p-2 rounded block">? Via Garibaldi: lavori 26/06!</code>                    </div>                </div>            </div>        </div>    </div>    <script>        // Dati di esempio (sostituire con API reali)        const temiConflitto = [            { nome: 'Strade/Buche', count: 12, color: 'red' },            { nome: 'Rifiuti/TARI', count: 8, color: 'orange' },            { nome: 'Tasse/Tributi', count: 5, color: 'yellow' },            { nome: 'Lavori Pubblici', count: 4, color: 'blue' },            { nome: 'Polemica Politica', count: 3, color: 'purple' }        ];        const templateRisposte = {            sito: 'Intervento programmato per il 26/06. Dettagli: [link]',            facebook: 'Grazie per segnalazione! Intervento confermato 26/06 ?',            stories: '? Via Garibaldi: lavori 26/06!'        };        let commenti = [];        // Inizializzazione        function init() {            loadTemi();            loadCommenti();            updateStats();            updateTimestamp();            setInterval(updateTimestamp, 30000);        }        // Carica temi conflittuali        function loadTemi() {            const container = document.getElementById('temi-container');            container.innerHTML = temiConflitto.map(tema => `                <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:shadow-md transition-all">                    <span class="font-medium">${tema.nome}</span>                    <span class="px-3 py-1 bg-${tema.color}-100 text-${tema.color}-700 text-sm rounded-full font-bold">                        ${tema.count}                    </span>                </div>            `).join('');        }        // Carica commenti        function loadCommenti() {            const container = document.getElementById('commenti-container');            if (commenti.length === 0) {                container.innerHTML = '<div class="text-center py-12 text-gray-500">
<i class="fas fa-inbox text-4xl mb-4 block">
</i>
<p>Nessun commento da moderare</p>
</div>';                return;            }                        container.innerHTML = commenti.map((commento, index) => `                <div class="border border-gray-200 dark:border-gray-600 rounded-xl p-6 hover:shadow-lg transition-all bg-white dark:bg-gray-800">                    <div class="flex justify-between items-start mb-3">                        <div class="flex items-center space-x-3">                            <div class="w-10 h-10 bg-gradient-to-r from-${commento.temaColor}-400 to-${commento.temaColor}-500 rounded-full flex items-center justify-center">                                <i class="fas fa-${commento.icon} text-white text-sm">
</i>                            </div>                            <div>                                <h4 class="font-semibold">${commento.tema}</h4>                                <p class="text-sm text-gray-500">${commento.data}</p>                            </div>                        </div>                        <span class="px-3 py-1 rounded-full text-xs font-medium ${                            commento.stato === 'gestito' ? 'bg-green-100 text-green-800' :                            'bg-yellow-100 text-yellow-800'                        }">                            ${commento.stato}                        </span>                    </div>                    <p class="text-gray-800 dark:text-gray-200 mb-4 italic">"${commento.testo}"</p>                    <div class="flex space-x-2">                        <select onchange="applicaRisposta(${index}, this.value)" class="flex-1 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">                            <option value="">Seleziona risposta...</option>                            <option value="sito">Sito Istituzionale</option>                            <option value="facebook">Facebook</option>                            <option value="stories">Stories/Telegram</option>                        </select>                        <button onclick="rimuoviCommento(${index})" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm transition-colors">                            <i class="fas fa-trash">
</i>                        </button>                    </div>                </div>            `).join('');        }        // Aggiungi commento di esempio        function addCommento() {            const esempi = [                { testo: "Siete degli incompetenti, la strada Ã¨ piena di buche in via Garibaldi da mesi e non fate niente!", tema: "Strade/Buche", icon: "road", temaColor: "red", data: "11/02/2026 11:45", stato: "da moderare" },                { testo: "Ancora i cassonetti pieni in centro! La TARI la paghiamo per cosa?", tema: "Rifiuti/TARI", icon: "trash", temaColor: "orange", data: "11/02/2026 10:30", stato: "da moderare" },                { testo: "Aumenti tasse ingiustificati, vergogna!", tema: "Tasse/Tributi", icon: "euro-sign", temaColor: "yellow", data: "11/02/2026 09:15", stato: "da moderare" }            ];                        const random = esempi[Math.floor(Math.random() * esempi.length)];            commenti.unshift({ ...random });            localStorage.setItem('commenti', JSON.stringify(commenti));            loadCommenti();            updateStats();        }        // Applica risposta e segna come gestito        function applicaRisposta(index, tipo) {            if (tipo) {                commenti[index].stato = 'gestito';                const risposta = templateRisposte[tipo];                console.log(`Risposta ${tipo} generata: ${risposta}`);                localStorage.setItem('commenti', JSON.stringify(commenti));                loadCommenti();                updateStats();            }        }        // Rimuovi commento        function rimuoviCommento(index) {            commenti.splice(index, 1);            localStorage.setItem('commenti', JSON.stringify(commenti));            loadCommenti();            updateStats();        }        // Reset tutto        function resetAll() {            if (confirm('Ripristinare tutti i dati?')) {                localStorage.removeItem('commenti');                commenti = [];                loadCommenti();                updateStats();            }        }        // Aggiorna statistiche        function updateStats() {            const totali = commenti.length;            const gestiti = commenti.filter(c => c.stato === 'gestito').length;            const pendenti = totali - gestiti;                        document.getElementById('total-commenti').textContent = totali;            document.getElementById('gestiti').textContent = gestiti;            document.getElementById('pendenti').textContent = pendenti;        }        // Aggiorna timestamp        function updateTimestamp() {            document.getElementById('timestamp').textContent =                 new Date().toLocaleString('it-IT', {                     weekday: 'short', year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'                 });        }        // Dark mode toggle        document.getElementById('theme-toggle').addEventListener('click', function() {            document.documentElement.classList.toggle('dark');            const icon = this.querySelector('i');            icon.className = document.documentElement.classList.contains('dark') ?                 'fas fa-sun text-xl' : 'fas fa-moon text-xl';            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');        });        // Carica tema salvato        if (localStorage.getItem('theme') === 'dark') {            document.documentElement.classList.add('dark');        }        // Carica commenti salvati        const saved = localStorage.getItem('commenti');        if (saved) {            commenti = JSON.parse(saved);        }        // Inizializza app        init();    </script>
</body>
</html>
